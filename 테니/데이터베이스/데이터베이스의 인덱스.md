## 데이터베이스에서 인덱스를 사용하는 이유 및 장단점에 대해 설명해주세요.

- 데이터베이스 인덱스란?
  - DBMS에서 데이터 검색 속도를 높이기 위해 사용하는 자료 구조
  - 추가적인 쓰기 작업과 저장 공간을 활용해 특정 값의 위치를 빠르게 찾음
  - 인덱스를 사용하지 않는다면 Full Scan

- 인덱스 장점
  - 빠른 검색 속도

- 인덱스 단점(B-Tree)
  - 인덱스 정보를 담는 추가적인 저장 공간이 필요
  - CREATE, DELETE, UPDATE 작업 시에도 인덱스를 업데이트해야 하므로 성능 저하 발생 가능
  - 페이지 분할로 인한 성능 저하
  - 한 페이지를 동시에 수정할 수 있는 병행성이 줄어든다. <??
  
- 원리
  - 핵심은 `키(Key)`와 `포인터(Pointer)`를 사용하여 **데이터의 물리적 위치**를 빠르게 찾는 것
  - 키와 포인터를 다루는 자료구조로 B-Tree, Hash Table 등이 사용됨
  1. Hash Table에서는 key, value 한 쌍으로 구성
     - 데이터베이스에서 잘 사용하지 않음
     - 데이터가 정렬되어 있지 않음
     - 데이터베이스는 부등호 연산이 자주 발생하기에 사용에 부적합
       - 특정 알고리즘으로 해시값을 생성하기에 등호(=) 연산에만 특화
  2. B-Tree에서는 key, pointer 한 쌍으로 구성
    - key를 기준으로 **항상 최신의 정렬 상태 유지**
    - 일반 이진 트리와 다른점은 편향되지 않았다는 점
       - 모든 리프 노드가 같은 레벨에 있음
       - 한쪽으로 편향될 경우 Linked List와 같은 성능을 보임
     - 노드를 페이지, 노드 내의 데이터를 키(key)
     - 키들은 좌우로 다른 노드를 가리키는 포인터를 가짐

- 무엇을 기준으로 인덱스를 걸어야할까?
  - cardinality
    - 인덱스를 걸 컬럼의 중복도
    - **중복도가 낮을수록** 인덱스를 통해 빠르게 검색 가능

- 모우다 DB의 인덱스는?
- B-Tree 구조
  - 데이터가 균일하다는 장점
- PK, Unique Key에 대해 자동 생성
```java
@Table(
    name = "chamyo",
    uniqueConstraints = {
        @UniqueConstraint(
            columnNames = {"moim_id", "darakbang_member_id"}
        )
    }
)
```

- RDB에서만 가능한가요?
  - NoSQL에서도 인덱스 사용 가능
  - MongoDB의 경우 B-트리 데이터 구조를 사용
